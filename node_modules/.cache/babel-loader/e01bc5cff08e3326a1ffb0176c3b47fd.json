{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/CRN/VSCode-workspace/auteurfilm/jahndoe-app/jahndoesite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/CRN/VSCode-workspace/auteurfilm/jahndoe-app/jahndoesite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/CRN/VSCode-workspace/auteurfilm/jahndoe-app/jahndoesite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState,useEffect}from'react';import'../../App.css';import Products from'./StoreComponents/Products/Products';import Cart from'../Cart/Cart';import{commerce}from'../../lib/commerce';import{BrowserRouter as Router,Switch,Route}from'react-router-dom';var Shop=function Shop(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),cart=_useState4[0],setCart=_useState4[1];var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$commerce$produ,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return commerce.products.list();case 2:_yield$commerce$produ=_context.sent;data=_yield$commerce$produ.data;setProducts(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();var fetchCart=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=setCart;_context2.next=3;return commerce.cart.retrieve();case 3:_context2.t1=_context2.sent;(0,_context2.t0)(_context2.t1);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchCart(){return _ref2.apply(this,arguments);};}();var handleAddToCart=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(productId,quantity){var _yield$commerce$cart$,cart;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return commerce.cart.add(productId,quantity);case 2:_yield$commerce$cart$=_context3.sent;cart=_yield$commerce$cart$.cart;setCart(cart);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function handleAddToCart(_x,_x2){return _ref3.apply(this,arguments);};}();useEffect(function(){fetchProducts();fetchCart();},[]);console.log(products);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(Route,{exact:true,path:\"/shop\",children:/*#__PURE__*/_jsx(Products,{products:products,onAddToCart:handleAddToCart})})})})});};export default Shop;","map":{"version":3,"sources":["/Users/CRN/VSCode-workspace/auteurfilm/jahndoe-app/jahndoesite/src/Components/pages/Shop.js"],"names":["React","useState","useEffect","Products","Cart","commerce","BrowserRouter","Router","Switch","Route","Shop","products","setProducts","cart","setCart","fetchProducts","list","data","fetchCart","retrieve","handleAddToCart","productId","quantity","add","console","log"],"mappings":"ukBAAA,MAAOA,CAAAA,KAAP,KAAmB,OAAnB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,qCAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,OAASC,QAAT,KAAyB,oBAAzB,CACA,OAAQC,aAAa,GAAIC,CAAAA,MAAzB,CAAiCC,MAAjC,CAAwCC,KAAxC,KAAqD,kBAArD,CAKA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,eAEiBT,QAAQ,CAAC,EAAD,CAFzB,wCAERU,QAFQ,eAEEC,WAFF,8BAGSX,QAAQ,CAAC,EAAD,CAHjB,yCAGRY,IAHQ,eAGFC,OAHE,eAMf,GAAMC,CAAAA,aAAa,0FAAG,wLACKV,CAAAA,QAAQ,CAACM,QAAT,CAAkBK,IAAlB,EADL,4CACVC,IADU,uBACVA,IADU,CAGlBL,WAAW,CAACK,IAAD,CAAX,CAHkB,sDAAH,kBAAbF,CAAAA,aAAa,0CAAnB,CAME,GAAMG,CAAAA,SAAS,2FAAG,qJAEhBJ,OAFgB,wBAEFT,CAAAA,QAAQ,CAACQ,IAAT,CAAcM,QAAd,EAFE,2HAAH,kBAATD,CAAAA,SAAS,2CAAf,CAKA,GAAME,CAAAA,eAAe,2FAAG,kBAAOC,SAAP,CAAkBC,QAAlB,4KACCjB,CAAAA,QAAQ,CAACQ,IAAT,CAAcU,GAAd,CAAkBF,SAAlB,CAA6BC,QAA7B,CADD,6CACdT,IADc,uBACdA,IADc,CAGtBC,OAAO,CAACD,IAAD,CAAP,CAHsB,wDAAH,kBAAfO,CAAAA,eAAe,iDAArB,CAOAlB,SAAS,CAAC,UAAM,CACda,aAAa,GACbG,SAAS,GAEV,CAJQ,CAIN,EAJM,CAAT,CAMAM,OAAO,CAACC,GAAR,CAAYd,QAAZ,EAEF,mBAEG,KAAC,MAAD,wBAEK,kCACI,KAAC,MAAD,wBAEI,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,OAAlB,uBACA,KAAC,QAAD,EAAU,QAAQ,CAAEA,QAApB,CAA8B,WAAW,CAAES,eAA3C,EADA,EAFJ,EADJ,EAFL,EAFH,CAqBH,CArDD,CAuDA,cAAeV,CAAAA,IAAf","sourcesContent":["import React  from 'react'\nimport { useState, useEffect } from 'react';\nimport '../../App.css';\nimport Products from './StoreComponents/Products/Products'\nimport Cart from '../Cart/Cart';\nimport { commerce } from '../../lib/commerce'\nimport {BrowserRouter as Router, Switch,Route } from 'react-router-dom';\n\n\n\n\nconst Shop = () => {\n    \n    const [products, setProducts] = useState([]);\n    const [cart, setCart] = useState({});\n  \n\n    const fetchProducts = async () => {\n        const { data } = await commerce.products.list();\n    \n        setProducts(data);\n      };\n\n      const fetchCart = async () => {\n\n        setCart(await commerce.cart.retrieve());\n      };\n\n      const handleAddToCart = async (productId, quantity) => {\n        const { cart } = await commerce.cart.add(productId, quantity);\n    \n        setCart(cart);\n      };\n\n   \n      useEffect(() => {\n        fetchProducts();\n        fetchCart();\n\n      }, []);\n\n      console.log(products)\n    \n    return (\n\n       <Router>\n       \n            <div>\n                <Switch>\n\n                    <Route exact path=\"/shop\">\n                    <Products products={products} onAddToCart={handleAddToCart}/>\n                    </Route>\n                \n                   \n\n                </Switch>\n                \n           \n            </div>\n\n        </Router>\n       \n    )\n}\n\nexport default Shop\n"]},"metadata":{},"sourceType":"module"}